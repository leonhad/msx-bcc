10 COLOR 15,1,1
20 KEY OFF
30 P1=0:P2=0:P3=0
40 SCREEN 0
50 GOSUB 1260
60 COLOR 15,1,11
70 SCREEN 2
80 OPEN "grp:s" FOR OUTPUT AS #1
90 G1=0:G2=0:G3=0:GOSUB 740
100 X1=20
110 Y1=96
120 X2=235
130 Y2=96
140 X3=128
150 Y3=15
160 DX1=1
170 DY1=0
180 DZ2=-1
190 DW2=0
200 MV3=1
210 MH3=0
220 IF G1=1 THEN GOTO 280
230 IF (POINT(X1,Y1)<>1 AND X1-DX1=X2 AND Y1-DY1=Y2 AND A$="2") THEN PLAY "V15L20O3A":F=1:GOSUB 890:GOTO 90
240 IF (POINT(X1,Y1)<>1 AND X1-DX1=X2 AND Y1-DY1=Y2 AND A$="3") THEN PLAY "V15L20O3A":F=1:P3=P3+1+(G3=1):GOSUB 1040:GOTO 90
250 IF (POINT(X1,Y1)<>1 AND X1-DX1=X3 AND Y1-DY1=Y3) THEN PLAY "V15L20O3A":F=2:P2=P2+1:GOSUB 1040:GOTO 90
260 IF POINT(X1,Y1)<>1 AND A$="2" THEN PLAY "V15L20O3A":P2=P2+1:GOSUB 890:GOTO 90
270 IF POINT(X1,Y1)<>1 THEN PLAY "V15L20O3A":G1=1:IF (G2=1 OR G3=1) THEN P2=P2+1+(G2=1):P3=P3+1+(G3=1):GOSUB 1040:GOTO 90
280 IF G2=1 THEN GOTO 320
290 IF (POINT(X2,Y2)<>1 AND X2-DX2=X3 AND Y2-DY2=Y3) THEN PLAY "V15L20O3A":F=3:P1=P1+1+(G1=1):GOSUB 1040:GOTO 90
300 IF POINT(X2,Y2)<>1 AND A$="2" THEN PLAY "V15L20O3A":P1=P1+1:GOSUB 890:GOTO 90
310 IF POINT(X2,Y2)<>1 THEN PLAY "V15L20O3A":G2=1:IF (G1=1 OR G3=1) THEN P1=P1+1+(G1=1):P3=P3+1+(G3=1):GOSUB 1040:GOTO 90
320 IF A$="2" OR G3=1 THEN GOTO 340
330 IF POINT(X3,Y3)<>1 THEN PLAY "V15L20O3A":G3=1:IF (G1=1 OR G2=1) THEN P1=P1+1+(G1=1):P2=P2+1+(G2=1):GOSUB 1040:GOTO 90
340 IF G1=1 THEN GOTO 360
350 PSET(X1,Y1),4
360 IF G2=1 THEN GOTO 380
370 PSET(X2,Y2),6
380 IF A$="2" OR G3=1 THEN GOTO 400
390 PSET(X3,Y3),12
400 BEEP
410 IF G1=1 THEN GOTO 440
420 A=STICK(0)
430 ON A GOSUB 580,590,600,610,620,630,640,650
440 IF G2=1 THEN GOTO 470
450 B=STICK(1)
460 ON B GOSUB 660,670,680,690,700,710,720,730
470 IF A$="2" OR G3=1 THEN GOTO 500
480 C=STICK(2)
490 ON C GOSUB 810,820,830,840,850,860,870,880
500 X1=X1+DX1
510 Y1=Y1+DY1
520 X2=X2+DZ2
530 Y2=Y2+DW2
540 IF A$="2" THEN GOTO 220
550 X3=X3+MH3
560 Y3=Y3+MV3
570 GOTO 220
580 DY1=-1:DX1=0
590 RETURN
600 DX1=1:DY1=0
610 RETURN
620 DY1=1:DX1=0
630 RETURN
640 DX1=-1:DY1=0
650 RETURN
660 DW2=-1:DZ2=0
670 RETURN
680 DZ2=1:DW2=0
690 RETURN
700 DW2=1:DZ2=0
710 RETURN
720 DZ2=-1:DW2=0
730 RETURN
740 FOR I=1 TO 75
750 R=RND(-TIME)
760 EX=INT(RND(1)*256)
770 EY=INT(RND(1)*192)
780 PSET(EX,EY),15
790 NEXT I
800 RETURN
810 MV3=-1:MH3=0
820 RETURN
830 MH3=1:MV3=0
840 RETURN
850 MV3=1:MH3=0
860 RETURN
870 MH3=-1:MV3=0
880 RETURN
890 CLS
900 IF P1=10 THEN PRESET (30,96):PRINT#1,"O jogador azul ganhou":FOR I=1 TO 1000:NEXT I:RUN
910 IF P2=10 THEN PRESET (30, 96):PRINT#1,"O jogador vermelho ganhou":FOR I=1 TO 1000:NEXT I:RUN
920 IF F=1 THEN PRESET (58,126):PRINT #1,"Os dois bateram":F=0
930 PRESET(50,40)
940 PRINT#1,"Azul"
950 PRESET(120,40)
960 PRINT#1,"Vermelho"
970 PRESET(55,60)
980 PRINT#1,P1
990 PRESET(140,60)
1000 PRINT#1,P2
1010 FOR J=1 TO 500:NEXT J
1020 CLS
1030 RETURN
1040 CLS
1050 IF F=1 THEN PRESET(40,126):PRINT #1,"Azul e vermelho bateram":F=0
1060 IF F=2 THEN PRESET(40,126):PRINT #1,"Azul e verde bateram":F=0
1070 IF F=3 THEN PRESET(40,126):PRINT #1,"Vermelho e verde bateram":F=0
1080 IF P1=10 THEN PRESET (30,96):PRINT#1,"O jogador azul ganhou":FOR I=1 TO 1000:NEXT I:RUN
1090 IF P2=10 THEN PRESET (30,96):PRINT#1,"O jogador vermelho ganhou":FOR I=1 TO 1000:NEXT I:RUN
1100 IF P3=10 THEN PRESET (30,96):PRINT#1,"O jogador verde ganhou":FOR I=1 TO 1000:NEXT I:RUN
1110 PRESET(180, 40)
1120 PRINT#1,"Verde"
1130 PRESET(185,60)
1140 PRINT#1,P3
1150 PRESET(20,40)
1160 PRINT#1,"Azul"
1170 PRESET(83,40)
1180 PRINT#1,"Vemelho"
1190 PRESET(25,60)
1200 PRINT#1,P1
1210 PRESET(105,60)
1220 PRINT#1,P2
1230 FOR J=1 TO 500:NEXT J
1240 CLS
1250 RETURN
1260 LOCATE 5,11
1270 PRINT "Dois ou trˆs jogadores (2-3)?"
1280 A$=INKEY$
1290 IF A$<>"2" AND A$<>"3" THEN GOTO 1280
1300 RETURN
